# ビルド環境
FROM node:lts-alpine
WORKDIR /usr/src/app
COPY package*.json ./
RUN npm install
COPY . .
ENV VUE_APP_API_ENDPOINT_PROTOCOL=$VUE_APP_API_ENDPOINT_PROTOCOL
ENV VUE_APP_API_ENDPOINT_HOST=$VUE_APP_API_ENDPOINT_HOST
ENV VUE_APP_WEBSOCKET_ENDPOINT_PROTOCOL=$VUE_APP_WEBSOCKET_ENDPOINT_PROTOCOL
ENV VUE_APP_WEBPUSH_APPSERVERKEY=$VUE_APP_WEBPUSH_APPSERVERKEY
ENV NODE_ENV=develop
CMD npm run serve